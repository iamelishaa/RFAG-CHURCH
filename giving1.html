<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Church Giving Page</title>
    <link rel="stylesheet" href="css/giving1.css">
</head>
<body>
    <div class="container">
        <!-- Giving Option -->
        <h1>Tithes & Offerings</h1>
        <p class="description">
            Simple and secure. Give a single gift or schedule recurring giving.
        </p>

        <!-- Search Box -->
        <div class="search-box">
            <input type="text" placeholder="Choose your campus community" id="searchInput">
        </div>

        <!-- Payment Options -->
        <div class="payment-options">
            <button class="payment-option active" id="gpayOption">GPay</button>
            <button class="payment-option" id="phonepeOption">PhonePe</button>
            <button class="payment-option" id="paytmOption">Paytm</button>
            <button class="payment-option" id="onlineOption">Online</button>
        </div>

        <!-- Bank Details Section (Initially Hidden) -->
        <div class="bank-details" id="bankDetails" style="display: none;">
            <h3>Church Bank Details</h3>
            <p><strong>Bank Name:</strong> XYZ Bank</p>
            <p><strong>Account Name:</strong> Church of XYZ</p>
            <p><strong>Account Number:</strong> 123456789</p>
            <p><strong>IFSC Code:</strong> XYZB0001234</p>
        </div>

        <!-- Call-to-Action Button -->
        <button class="cta-button" id="giveButton">Give Now</button>
    </div>
    <script>
        // Select payment options and button
        const paymentOptions = document.querySelectorAll('.payment-option');
        const giveButton = document.getElementById('giveButton');
        const bankDetails = document.getElementById('bankDetails');
    
        // Active payment method tracking
        let selectedPaymentMethod = 'GPay'; // Default to GPay
    
        // Add click event to payment options
        paymentOptions.forEach(option => {
            option.addEventListener('click', () => {
                // Reset active class on all options
                paymentOptions.forEach(opt => opt.classList.remove('active'));
                // Add active class to selected option
                option.classList.add('active');
                // Update selected payment method
                selectedPaymentMethod = option.innerText;
                // Hide bank details if not "Online"
                if (selectedPaymentMethod !== 'Online') {
                    bankDetails.style.display = 'none';
                }
            });
        });
    
        // Handle "Give Now" button click
        giveButton.addEventListener('click', () => {
            let upiLink = '';
    
            if (selectedPaymentMethod === 'GPay') {
                // GPay UPI Link
                upiLink = `upi://pay?pa=xelishaprashanthx-2@okaxis&pn=Church%20of%20XYZ&cu=INR`;
            } else if (selectedPaymentMethod === 'PhonePe') {
                // PhonePe UPI Link
                upiLink = `upi://pay?pa=xelishaprashanthx@axl&pn=Church%20of%20XYZ&cu=INR`;
            } else if (selectedPaymentMethod === 'Paytm') {
                // Paytm UPI Link
                upiLink = `upi://pay?pa=your_upi_id@paytm&pn=Church%20of%20XYZ&cu=INR`;
            } else if (selectedPaymentMethod === 'Online') {
                // Show bank details
                bankDetails.style.display = 'block';
                return; // Prevent the script from continuing if the 'Online' option is selected
            }
    
            // Try opening the UPI app using the link
            try {
                // For mobile devices, attempt to directly redirect to UPI link
                window.location.href = upiLink;
                // Fallback if UPI app is not installed
                setTimeout(() => {
                    alert('If the payment app did not open, please make sure it is installed on your device.');
                }, 2000); // Wait for 2 seconds before showing alert
            } catch (error) {
                console.error('Error opening payment app:', error);
            }
        });
    </script>
    
</body>
</html>
